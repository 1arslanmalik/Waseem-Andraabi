import"./hoisted.xI0VDRZf.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("reviewForm"),c=document.getElementById("rating"),n=document.querySelectorAll(".star-btn");n.forEach(r=>{r.addEventListener("click",t=>{const a=t.target.dataset.rating;c.value=a,n.forEach(e=>{parseInt(e.dataset.rating)<=parseInt(a)?(e.classList.add("active"),e.textContent="★"):(e.classList.remove("active"),e.textContent="☆")})}),r.addEventListener("mouseenter",t=>{const a=parseInt(t.target.dataset.rating);n.forEach(e=>{parseInt(e.dataset.rating)<=a&&(e.textContent="★")})}),r.addEventListener("mouseleave",()=>{n.forEach(t=>{t.classList.contains("active")||(t.textContent="☆")})})}),i&&i.addEventListener("submit",async r=>{r.preventDefault();const t=new FormData(i),a={id:Math.random()*999999*1,name:t.get("name"),rating:Number(t.get("rating")),comment:t.get("comment"),date:new Date().toISOString().split("T")[0]},s=window.location.hostname==="www.drwaseemandrabi.com"?"https://www.drwaseemandrabi.com/api/review":"http://localhost:4321/api/review";try{const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw new Error(`Failed to submit review: ${o.statusText}`);i.reset(),c.value="",n.forEach(d=>{d.classList.remove("active"),d.textContent="☆"}),alert("Review submitted successfully!"),window.location.reload()}catch(o){console.error("Error submitting review:",o),alert("Failed to submit review. Please try again.")}})});
